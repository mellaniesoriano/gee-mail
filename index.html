<!DOCTYPE html>
<html>
<head>
  <script src="js/mail-generator.js"></script>
  <link href="css/style.css" rel="stylesheet" media="screen" href="https://fonts.googleapis.com/css?family=Monstserrat">

  <title>Gee-Mail</title>


<script>

window.onload = function(){

// counter info
  var inboxCounter = 0;
  function newMsg() {
    msgContent(getNewMessage());
  }

  function msgContent(msgInfo) {
    var emails = document.createElement("div");
    emails.setAttribute("id", "message" + ++inboxCounter);
    document.getElementById("inboxCounter").innerHTML = inboxCounter;
    var Message = "msgBody" + inboxCounter;
    emails.onclick = function() {
      var status = document.getElementById(Message);
        if (status.style.display == "none")
          status.style.display = "block";
        else
          status.style.display = "none";
      }

//email contents
  var msgCol;
    msgCol = document.createElement("div");
    msgCol.setAttribute("class", "date");
    msgCol.innerHTML = msgInfo.date.toLocaleString();
    emails.appendChild(msgCol);

    msgCol = document.createElement("div");
    msgCol.setAttribute("class", "sender");
    msgCol.innerHTML = msgInfo.sender;
    emails.appendChild(msgCol);

    msgCol = document.createElement("div");
    msgCol.setAttribute("class", "subject");
    msgCol.innerHTML = msgInfo.subject;
    emails.appendChild(msgCol);

    msgCol = document.createElement("div");
    msgCol.setAttribute("class", "body");
    msgCol.style.display = "none";
    msgCol.setAttribute("id", "msgBody" + inboxCounter);
    msgCol.innerHTML = msgInfo.body;
    emails.appendChild(msgCol);
    document.getElementById("messages")
    .appendChild(emails);
  }

//loop messages
  for (i of window.geemails) {
    msgContent(i);
  }

  setInterval(function() {
    newMsg();
  }, 4500);
};
</script>
</head>

<body>
  <nav class="fixed-nav-bar">
      <a href="#">COMPOSE</a></li> | <a href="#">INBOX (<span id="inboxCounter">0</span>) </a> | <a href="#">IMPORTANT </a></li> | <a href="#">SENT MAIL </a> | <a href="#">DRAFTS </a> | <a href="#">SPAM </a> | <a href="#">TRASH </a>
  </nav>

  <div class="logo">
    <center><img id="logo" src="http://i68.tinypic.com/ajkkuq.png"></center>
    </div>

  <div class="container" id="main">
    <div class="style" id="messages">
      <span class="style date"><h3>DATE</h3></span>
      <span class="style sender"><h3>SENDER</h3></span>
      <span class="style subject"><h3>SUBJECT</h3></span>
    </div>
  </div>

</body>
</html>
